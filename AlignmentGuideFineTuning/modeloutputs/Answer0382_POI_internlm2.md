### Intent:
**Intent Summary:**  
Create a structured control narrative for an ammonium nitrate reactor, specifying setpoints, instrumentation, operational sequences, and safety interlocks to ensure safe and efficient production.  

*(For code generation: Focus on translating process parameters, control loops, and interlock logic into programmable automation rules.)*

### Prompt:
**Control Narrative for Ammonium Nitrate Reactor**

Create a control narrative for a reactor producing ammonium nitrates including concrete setpoints and ranges.

**C-A-R-E:**

ðŸŸ¥ C (Context) â€“ Background Situation

In ammonium nitrate production, the reactor is a critical unit where ammonia and nitric acid react under controlled temperature and pressure conditions. A well-defined control narrative is essential for ensuring safety, optimizing yield, and maintaining regulatory compliance. Without clear setpoints, instrumentation, and sequence logic, the process may suffer from inefficiencies or become hazardous.

â¸»

ðŸŸ© A (Action) â€“ Task to Perform

Create a control narrative for an ammonium nitrate reactor, focusing on:
	â€¢	Specifying concrete control setpoints and operational ranges for key process parameters
	â€¢	Identifying the necessary equipment and instrumentation (e.g., flow controllers, pH sensors, pressure and temperature transmitters)
	â€¢	Outlining the normal operating sequence, including startup, steady-state operation, and shutdown procedures
	â€¢	Describing the control loops and interlock logic for alarms or emergency shutdown conditions

â¸»

ðŸŸ¨ R (Result) â€“ Expected Outcome

The final deliverable should be a clear and structured control narrative that can be used by engineers, operators, and programmers to:
	â€¢	Ensure safe and consistent operation of the reactor
	â€¢	Support PLC/DCS programming
	â€¢	Simplify commissioning, training, and troubleshooting
	â€¢	Provide a solid foundation for future automation upgrades

â¸»

ðŸŸ¦ E (Example) â€“ Concrete Illustration

Control Parameters and Setpoints:
	â€¢	Reactor Temperature (TIC-101): 175â€¯Â°C Â± 2â€¯Â°C
	â€¢	Reactor Pressure (PIC-102): 4.8â€¯bar Â± 0.2â€¯bar
	â€¢	Ammonia to Nitric Acid Flow Ratio (FRC-103): 1.01:1
	â€¢	pH Range (AIC-104): 6.2 Â± 0.3

Instrumentation and Equipment:
	â€¢	Flow transmitters on acid and ammonia lines
	â€¢	Pressure and temperature transmitters on reactor dome
	â€¢	pH sensor in reactor outlet
	â€¢	Emergency shutoff valves with interlocks tied to high temperature (>185â€¯Â°C), overpressure (>5.2â€¯bar), or low pH (<5.5)

Operational Sequence Overview:
	1.	Initialize system; confirm all valves in closed and tank levels in range
	2.	Begin controlled ammonia and nitric acid flow
	3.	Ramp up reactor temperature using steam jacket
	4.	Adjust ammonia-to-acid ratio to maintain pH
	5.	Monitor steady-state; activate alarms/interlocks on deviation
	6.	Shutdown by closing feeds and venting pressure safely

### Generated Code:
**Intent Summary:**  
Create a structured control narrative for an ammonium nitrate reactor, specifying setpoints, instrumentation, operational sequences, and safety interlocks to ensure safe and efficient production.  

*(For code generation: Focus on translating process parameters, control loops, and interlock logic into programmable automation rules.)*
**Control Narrative for Ammonium Nitrate Reactor**

Create a control narrative for a reactor producing ammonium nitrates including concrete setpoints and ranges.

**C-A-R-E:**

ðŸŸ¥ C (Context) â€“ Background Situation

In ammonium nitrate production, the reactor is a critical unit where ammonia and nitric acid react under controlled temperature and pressure conditions. A well-defined control narrative is essential for ensuring safety, optimizing yield, and maintaining regulatory compliance. Without clear setpoints, instrumentation, and sequence logic, the process may suffer from inefficiencies or become hazardous.

â¸»

ðŸŸ© A (Action) â€“ Task to Perform

Create a control narrative for an ammonium nitrate reactor, focusing on:
	â€¢	Specifying concrete control setpoints and operational ranges for key process parameters
	â€¢	Identifying the necessary equipment and instrumentation (e.g., flow controllers, pH sensors, pressure and temperature transmitters)
	â€¢	Outlining the normal operating sequence, including startup, steady-state operation, and shutdown procedures
	â€¢	Describing the control loops and interlock logic for alarms or emergency shutdown conditions

â¸»

ðŸŸ¨ R (Result) â€“ Expected Outcome

The final deliverable should be a clear and structured control narrative that can be used by engineers, operators, and programmers to:
	â€¢	Ensure safe and consistent operation of the reactor
	â€¢	Support PLC/DCS programming
	â€¢	Simplify commissioning, training, and troubleshooting
	â€¢	Provide a solid foundation for future automation upgrades

â¸»

ðŸŸ¦ E (Example) â€“ Concrete Illustration

Control Parameters and Setpoints:
	â€¢	Reactor Temperature (TIC-101): 175â€¯Â°C Â± 2â€¯Â°C
	â€¢	Reactor Pressure (PIC-102): 4.8â€¯bar Â± 0.2â€¯bar
	â€¢	Ammonia to Nitric Acid Flow Ratio (FRC-103): 1.01:1
	â€¢	pH Range (AIC-104): 6.2 Â± 0.3

Instrumentation and Equipment:
	â€¢	Flow transmitters on acid and ammonia lines
	â€¢	Pressure and temperature transmitters on reactor dome
	â€¢	pH sensor in reactor outlet
	â€¢	Emergency shutoff valves with interlocks tied to high temperature (>185â€¯Â°C), overpressure (>5.2â€¯bar), or low pH (<5.5)

Operational Sequence Overview:
	1.	Initialize system; confirm all valves in closed and tank levels in range
	2.	Begin controlled ammonia and nitric acid flow
	3.	Ramp up reactor temperature using steam jacket
	4.	Adjust ammonia-to-acid ratio to maintain pH
	5.	Monitor steady-state; activate alarms/interlocks on deviation
	6.	Shutdown by closing feeds and venting pressure safely
	7.	Cool reactor to ambient temperature; drain and clean

Interlock Logic:
	â€¢	High temperature interlock: If TIC-101 > 185â€¯Â°C, shut down reactor and vent steam
	â€¢	Overpressure interlock: If PIC-102 > 5.2â€¯bar, shut down reactor and vent excess pressure
	â€¢	Low pH interlock: If AIC-104 < 5.5, shut down reactor and add ammonia

â¸»

ðŸŸ§ E (Example) â€“ Code Generation

Using the control narrative as a guide, generate the following automation rules in a PLC/DCS programming language:

1.	Control Loop for Reactor Temperature (TIC-101):
	â€¢	Input: Temperature sensor (TIC-101)
	â€¢	Output: Steam valve (SV-201)
	â€¢	Control: Proportional-Integral (PI) controller with setpoint 175â€¯Â°C
	â€¢	Interlock: If TIC-101 > 185â€¯Â°C, shut down reactor and vent steam

2.	Control Loop for Reactor Pressure (PIC-102):
	â€¢	Input: Pressure sensor (PIC-102)
	â€¢	Output: Pressure relief valve (PRV-202)
	â€¢	Control: Proportional-Integral (PI) controller with setpoint 4.8â€¯bar
	â€¢	Interlock: If PIC-102 > 5.2â€¯bar, shut down reactor and vent excess pressure

3.	Control Loop for Ammonia-to-Acid Flow Ratio (FRC-103):
	â€¢	Input: Flow transmitters (FIC-101, FIC-102)
	â€¢	Output: Ammonia and acid flow control valves (FCV-101, FCV-102)
	â€¢	Control: Proportional-Integral (PI) controller with setpoint 1.01:1
	â€¢	Interlock: If FRC-103 deviates from 1.01:1, adjust flow valves

4.	Interlock Logic for pH (AIC-104):
	â€¢	Input: pH sensor (AIC-104)
	â€¢	Output: Ammonia feed valve (AFV-103)
	â€¢	Control: Proportional-Integral (PI) controller with set
