### Intent:
**Intent Summary:**  
Create a self-contained, iterative Quicksort function block in IEC 61131-3 Structured Text for PLCs, using stack emulation to avoid recursion while sorting arrays in-place with configurable execution control and state tracking.  

*(Focus: Non-recursive, scan-cycle-safe sorting for industrial automation.)*

### Prompt:
**Timer:**
Implement a self-contained function block in IEC 61131-3 structured text to create a timer. Include configurable time duration, start/stop controls, and timeout handling.

**B-A-B:**

ðŸŸ¥ B (Before) â€“ The Problem or Challenge

Timers are essential in industrial automation for sequencing operations, delays, and safety checks. However, relying on fixed or external timers can limit flexibility and reusability. A timer that lacks configurable duration, start/stop control, or timeout indication can lead to rigid control logic and poor maintainability in PLC systems.

â¸»

ðŸŸ© A (After) â€“ The Desired Outcome

Develop a self-contained function block in IEC 61131-3 Structured Text that acts as a flexible timer. The function block should:
	â€¢	Allow users to configure the time duration
	â€¢	Support Start and Stop signals for runtime control
	â€¢	Track elapsed time and indicate when the timer has timed out
	â€¢	Provide output flags for Running, Done, and optionally RemainingTime

â¸»

ðŸŸ§ B (Bridge) â€“ How to Get There
	1.	Define the function block with inputs:
	â€¢	Start : BOOL
	â€¢	Stop : BOOL
	â€¢	PresetTime : TIME
	2.	Use internal variables to:
	â€¢	Store StartTime and ElapsedTime
	â€¢	Reset when Stop = TRUE
	â€¢	Accumulate time only when Start = TRUE and Stop = FALSE
	3.	Provide outputs:
	â€¢	Running : BOOL â€“ active while the timer is counting
	â€¢	Done : BOOL â€“ TRUE when elapsed time â‰¥ preset time
	â€¢	RemainingTime : TIME â€“ optional, shows remaining time until done
	4.	Ensure the timer is scan-cycle safe, reusable, and well-commented

### Generated Code:
**Intent Summary:**  
Create a self-contained, iterative Quicksort function block in IEC 61131-3 Structured Text for PLCs, using stack emulation to avoid recursion while sorting arrays in-place with configurable execution control and state tracking.  

*(Focus: Non-recursive, scan-cycle-safe sorting for industrial automation.)*
**Timer:**
Implement a self-contained function block in IEC 61131-3 structured text to create a timer. Include configurable time duration, start/stop controls, and timeout handling.

**B-A-B:**

ðŸŸ¥ B (Before) â€“ The Problem or Challenge

Timers are essential in industrial automation for sequencing operations, delays, and safety checks. However, relying on fixed or external timers can limit flexibility and reusability. A timer that lacks configurable duration, start/stop control, or timeout indication can lead to rigid control logic and poor maintainability in PLC systems.

â¸»

ðŸŸ© A (After) â€“ The Desired Outcome

Develop a self-contained function block in IEC 61131-3 Structured Text that acts as a flexible timer. The function block should:
	â€¢	Allow users to configure the time duration
	â€¢	Support Start and Stop signals for runtime control
	â€¢	Track elapsed time and indicate when the timer has timed out
	â€¢	Provide output flags for Running, Done, and optionally RemainingTime

â¸»

ðŸŸ§ B (Bridge) â€“ How to Get There
	1.	Define the function block with inputs:
	â€¢	Start : BOOL
	â€¢	Stop : BOOL
	â€¢	PresetTime : TIME
	2.	Use internal variables to:
	â€¢	Store StartTime and ElapsedTime
	â€¢	Reset when Stop = TRUE
	â€¢	Accumulate time only when Start = TRUE and Stop = FALSE
	3.	Provide outputs:
	â€¢	Running : BOOL â€“ active while the timer is counting
	â€¢	Done : BOOL â€“ TRUE when elapsed time â‰¥ preset time
	â€¢	RemainingTime : TIME â€“ optional, shows remaining time until done
	4.	Ensure the timer is scan-cycle safe, reusable, and well-commented

**B-A-B:**

ðŸŸ¥ B (Before) â€“ The Problem or Challenge

Quicksort is a popular sorting algorithm that can be challenging to implement in PLCs due to the lack of recursion and the need for in-place sorting. Traditional recursive implementations of Quicksort are not suitable for PLCs because they rely on function calls, which can lead to stack overflow errors and performance issues.

â¸»

ðŸŸ© A (After) â€“ The Desired Outcome

Develop a self-contained function block in IEC 61131-3 Structured Text that implements a non-recursive, iterative Quicksort algorithm. The function block should:
	â€¢	Support sorting arrays of any size
	â€¢	Allow users to configure the pivot selection method (e.g., first, last, random)
	â€¢	Provide configurable execution control (e.g., number of iterations per scan cycle)
	â€¢	Track sorting progress and indicate when the array is sorted
	â€¢	Ensure the function block is scan-cycle safe, reusable, and well-commented

â¸»

ðŸŸ§ B (Bridge) â€“ How to Get There
	1.	Define the function block with inputs:
	â€¢	Array : ARRAY of any type
	â€¢	PivotSelection : ENUM (First, Last, Random)
	â€¢	IterationsPerScan : INT
	2.	Use internal variables to:
	â€¢	Store the array size and pivot index
	â€¢	Track the number of iterations completed
	â€¢	Manage the stack using a local array
	3.	Provide outputs:
	â€¢	Sorted : BOOL â€“ TRUE when the array is sorted
	â€¢	Progress : INT â€“ shows the number of iterations completed
	4.	Implement the Quicksort algorithm iteratively, using the stack to emulate recursion:
	â€¢	Partition the array around the pivot
	â€¢	Iterate through the array, swapping elements as needed
	â€¢	Repeat until the array is sorted or the maximum number of iterations is reached
	5.	Ensure the function block is scan-cycle safe, reusable, and well-commented

**B-A-B:**

ðŸŸ¥ B (Before) â€“ The Problem or Challenge

In industrial automation, it is often necessary to sort arrays in-place without using recursion. However, traditional recursive sorting algorithms like Quicksort are not suitable for PLCs due
